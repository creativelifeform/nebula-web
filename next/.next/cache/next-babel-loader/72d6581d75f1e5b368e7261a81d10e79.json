{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/rohandeshpande/Projects/nebula-web/next/pages/download/Form/index.js\";\nimport { PLATFORM, PLATFORMS } from '../constants';\nimport React, { Component } from 'react';\nimport Api from '../../../common/api';\nimport { Email } from './Email';\nimport { Error } from './Error';\nimport { PlatformSelect } from './PlatformSelect';\nimport { mapValueToKey } from '../../../common/utils';\nexport class Form extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      platform: PLATFORM,\n      email: '',\n      data: null,\n      error: null,\n      loading: false\n    });\n\n    _defineProperty(this, \"handleOnSelect\", platform => this.setState({\n      platform,\n      data: null,\n      error: null\n    }));\n\n    _defineProperty(this, \"handleOnEmail\", email => this.setState({\n      email\n    }));\n\n    _defineProperty(this, \"handleOnSubmit\", () => {\n      const {\n        platform,\n        email\n      } = this.state;\n      this.setState({\n        loading: true,\n        error: null\n      }, async () => {\n        try {\n          const data = await Api.sendSignupRequest({\n            platform,\n            email\n          });\n          this.setState({\n            data,\n            loading: false\n          });\n        } catch (error) {\n          this.setState({\n            loading: false,\n            error: error.json\n          });\n        }\n      });\n    });\n  }\n\n  render() {\n    const {\n      data,\n      error,\n      loading,\n      platform\n    } = this.state;\n    return React.createElement(\"div\", {\n      className: \"Form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: e => e.preventDefault(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(PlatformSelect, {\n      onSelect: this.handleOnSelect,\n      initialValue: PLATFORM,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }), !data && React.createElement(Email, {\n      platform: this.state.platform,\n      loading: loading,\n      onEmail: this.handleOnEmail,\n      onSubmit: this.handleOnSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    })), data && React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"button\",\n      href: data.link,\n      download: data.link,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"Download Nebula for \", mapValueToKey(PLATFORMS, platform))), error && React.createElement(Error, {\n      json: error,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"Disclaimer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, \"We will only send you Nebula product updates, \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }), \"we will \", React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"never\"), \" spam you. Unsubscribe at any time!\"));\n  }\n\n}","map":{"version":3,"sources":["/Users/rohandeshpande/Projects/nebula-web/next/pages/download/Form/index.js"],"names":["PLATFORM","PLATFORMS","React","Component","Api","Email","Error","PlatformSelect","mapValueToKey","Form","platform","email","data","error","loading","setState","state","sendSignupRequest","json","render","e","preventDefault","handleOnSelect","handleOnEmail","handleOnSubmit","link"],"mappings":"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","sourcesContent":["import { PLATFORM, PLATFORMS } from '../constants';\nimport React, { Component } from 'react';\n\nimport Api from '../../../common/api';\nimport { Email } from './Email';\nimport { Error } from './Error';\nimport { PlatformSelect } from './PlatformSelect';\nimport { mapValueToKey } from '../../../common/utils';\n\nexport class Form extends Component {\n  state = {\n    platform: PLATFORM,\n    email: '',\n    data: null,\n    error: null,\n    loading: false,\n  };\n\n  handleOnSelect = platform =>\n    this.setState({ platform, data: null, error: null });\n\n  handleOnEmail = email => this.setState({ email });\n\n  handleOnSubmit = () => {\n    const { platform, email } = this.state;\n\n    this.setState({ loading: true, error: null }, async () => {\n      try {\n        const data = await Api.sendSignupRequest({ platform, email });\n\n        this.setState({ data, loading: false });\n      } catch (error) {\n        this.setState({ loading: false, error: error.json });\n      }\n    });\n  };\n\n  render() {\n    const { data, error, loading, platform } = this.state;\n\n    return (\n      <div className=\"Form\">\n        <form onSubmit={e => e.preventDefault()}>\n          <PlatformSelect\n            onSelect={this.handleOnSelect}\n            initialValue={PLATFORM}\n          />\n          {!data && (\n            <Email\n              platform={this.state.platform}\n              loading={loading}\n              onEmail={this.handleOnEmail}\n              onSubmit={this.handleOnSubmit}\n            />\n          )}\n        </form>\n        {data && (\n          <div>\n            <a className=\"button\" href={data.link} download={data.link}>\n              Download Nebula for {mapValueToKey(PLATFORMS, platform)}\n            </a>\n          </div>\n        )}\n        {error && <Error json={error} />}\n        <div className=\"Disclaimer\">\n          We will only send you Nebula product updates, <br />\n          we will <b>never</b> spam you. Unsubscribe at any time!\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}